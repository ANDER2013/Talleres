# Taller Individual  3
## Reactive Stream

**Semana**: 9

**Objetivos**:

- Aplicar los conocimientos sobre Reactive Stream.
- Generar y procesar flujos de datos reactivos.



### DescripciÃ³n:

Resuelva los siguientes problemas.

### Problema 1
**SincronizaciÃ³n de Sensores**

DescripciÃ³n: Simula dos sensores que emiten valores periÃ³dicos:

- Sensor1: Rango [20Â°C, 30Â°C], cada 1 segundo.
- Sensor2: Rango [30Â°C, 40Â°C], cada 1.5 segundos.
- Usa zip para combinar los valores de ambos sensores en un solo flujo.
- DetÃ©n el flujo despuÃ©s de 10 pares de valores.
- Genera una alerta si la diferencia absoluta entre las lecturas de Sensor1 y Sensor2 es mayor a 5Â°C.
  

```scala
package clases.bimestre2.semana1.Taller

import rx.lang.scala.Observable

import scala.concurrent.duration.*
import scala.util.Random

object TallerN1B2 extends App {

  val sensor1 = Observable
    .interval(1.second)
    .map(_ => Random.between(20, 31))
    .doOnNext(v => println(s"[S1] $vÂ°C"))

  val sensor2 = Observable
    .interval(1500.millis)
    .map(_ => Random.between(30, 41))
    .doOnNext(v => println(s"[S2] $vÂ°C"))

  val combinado = sensor1.zip(sensor2)

  combinado
    .take(10)
    .subscribe { case (t1, t2) =>

      val diff = math.abs(t1 - t2)

      println(s"\nSensor1: $t1Â°C, Sensor2: $t2Â°C, Difference: ${diff}Â°C")

      if (diff > 5)
        println(s"ğŸš¨ ALERT! Significant difference detected: ${diff}Â°C")
    }

  Thread.sleep(20000)
}
```
### SoluciÃ³n:
Se simulan dos sensores con intervalos distintos y se combinan mediante zip para sincronizar sus lecturas. Luego se detiene el flujo tras generar 10 pares y se verifica si la diferencia entre los valores supera 5Â°C para activar una alerta.
### Problema 2
**Sistema de Alerta Complejo**

DescripciÃ³n: Simula tres sensores que emiten datos periÃ³dicos:

- Sensor1: Temperatura (20Â°C a 30Â°C).
- Sensor2: Humedad (40% a 60%).
- Sensor3: PresiÃ³n (950 hPa a 1050 hPa).
- Combina los datos de los tres sensores y detecta si alguna de las mÃ©tricas estÃ¡ fuera de rango.
- DetÃ©n el flujo despuÃ©s de 20 combinaciones.

```scala
package clases.bimestre2.semana1.Taller

import rx.lang.scala.Observable
import scala.util.Random
import scala.concurrent.duration._

object Problema2 extends App {

  val sensorTemp = Observable
    .interval(1.second)
    .map(_ => Random.between(20, 31))
    .doOnNext(v => println(s"[TEMP] $vÂ°C"))

  val sensorHum = Observable
    .interval(1200.millis)
    .map(_ => Random.between(40, 61))
    .doOnNext(v => println(s"[HUM] $v%"))

  val sensorPres = Observable
    .interval(1500.millis)
    .map(_ => Random.between(950, 1051))
    .doOnNext(v => println(s"[PRES] $v hPa"))

  val combinado = sensorTemp.zip(sensorHum).zip(sensorPres)
    .map { case ((t, h), p) => (t, h, p) }

  combinado
    .take(20)
    .subscribe { case (temp, hum, pres) =>

      println(s"\nTemperature: ${temp}Â°C, Humidity: ${hum}%, Pressure: ${pres} hPa")

      if (temp < 20 || temp > 30)
        println(s"ğŸš¨ ALERT! Temperature out of range: ${temp}Â°C")

      if (hum < 40 || hum > 60)
        println(s"ğŸš¨ ALERT! Humidity out of range: ${hum}%")

      if (pres < 950 || pres > 1050)
        println(s"ğŸš¨ ALERT! Pressure out of range: ${pres} hPa")
    }

  Thread.sleep(30000)
}

```
### SoluciÃ³n:
Se crean tres sensores que emiten datos periÃ³dicamente y se combinan en un solo flujo para evaluar sus mÃ©tricas. Se verifican los rangos permitidos de temperatura, humedad y presiÃ³n, generando alertas cuando algÃºn valor estÃ¡ fuera de lÃ­mites. El sistema se detiene tras procesar 20 combinaciones.
### CalificaciÃ³n:

Para la calificaciÃ³n, se debe presentar el trabajo realizado a su tutor. Es necesario recalcar que la presentaciÃ³n se hace una Ãºnica vez, no existe la posibilidad de presentaciones adicionales con correcciones.

- 10 puntos si presenta en el horario de prÃ¡cticas y experimentaciÃ³n.
- 7 puntos presenta en el horario de tutorÃ­a

La hora mÃ¡xima de presentaciÃ³n serÃ¡ las 16h30
